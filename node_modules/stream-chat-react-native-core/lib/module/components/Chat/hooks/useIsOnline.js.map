{"version":3,"names":["_react","require","_useAppStateListener","_useIsMountedRef","_native","useIsOnline","client","closeConnectionOnBackground","arguments","length","undefined","_useState","useState","_useState2","_slicedToArray2","isOnline","setIsOnline","_useState3","_useState4","connectionRecovering","setConnectionRecovering","isMounted","useIsMountedRef","clientExists","onBackground","useCallback","closeConnection","onForeground","userID","openConnection","useAppStateListener","useEffect","handleChangedEvent","event","online","handleRecoveredEvent","notifyChatClient","netInfoState","wsConnection","onlineStatusChanged","type","unsubscribeNetInfo","setNetInfoListener","NetInfo","addEventListener","_client$wsConnection","isHealthy","setInitialOnlineState","_ref","_asyncToGenerator2","_regenerator","mark","_callee","status","wrap","_callee$","_context","prev","next","fetch","sent","current","stop","apply","chatListeners","push","on","forEach","listener","unsubscribe","exports"],"sourceRoot":"../../../../../src","sources":["components/Chat/hooks/useIsOnline.ts"],"mappings":"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","ignoreList":[]}
