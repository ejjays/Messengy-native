{"version":3,"names":["_dayjs","_interopRequireDefault","require","_emojiRegex","_emojiData","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","FileState","freeze","FINISHED","NOT_SUPPORTED","UPLOAD_FAILED","UPLOADED","UPLOADING","exports","ProgressIndicatorTypes","IN_PROGRESS","INACTIVE","RETRY","MessageStatusTypes","FAILED","RECEIVED","SENDING","getIndicatorTypeForFileState","fileState","enableOfflineSupport","_indicatorMap","indicatorMap","_defineProperty2","isBlockedMessage","message","pattern","type","text","isBouncedMessage","_message$moderation_d","_message$moderation","moderation_details","action","moderation","isEditedMessage","message_text_updated_at","defaultEmojiSearchIndex","search","query","results","_loop","emoji","v","names","some","includes","skins","push","assign","concat","undefined","forEach","tone","index","unicode","_iterator","compiledEmojis","_step","_ret","_typeof2","error","console","warn","makeImageCompatibleUrl","url","indexOf","trim","getUrlWithoutParams","indexOfQuestion","substring","isLocalUrl","generateRandomId","a","arguments","Number","Math","random","replace","hasOnlyEmojis","emojiOnlyString","_toConsumableArray2","matchAll","EmojiRegex","join","originalTextWithNoSpaces","replaceAll","stringifyMessage","_ref","deleted_at","i18n","latest_reactions","reaction_groups","readBy","reply_count","status","updated_at","map","_ref2","user","id","entries","flatMap","_ref3","_ref4","_slicedToArray2","_ref4$","count","first_reaction_at","last_reaction_at","JSON","stringify","reduceMessagesToString","messages","getFileNameFromPath","path","match","getDurationLabelFromDuration","duration","ONE_HOUR_IN_SECONDS","ONE_HOUR_IN_MILLISECONDS","durationLabel","isDurationLongerThanHour","formattedDurationParam","formattedVideoDuration","dayjs","format","escapeRegExp"],"sourceRoot":"../../../src","sources":["utils/utils.ts"],"mappings":"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","ignoreList":[]}
